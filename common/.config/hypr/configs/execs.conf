# --- Core System Services (High Priority) ---

# D-Bus update is critical for portal and app communication
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP &
exec-once = ssh-agent -a $XDG_RUNTIME_DIR/ssh-agent.socket &
exec-once = systemctl --user start hyprpolkitagent &
exec-once = gnome-keyring-daemon --start --components=secrets,ssh --foreground &
exec-once = xsettingsd &
exec-once = xdg-user-dirs-update &

# --- GTK & Theming Synchronization ---

exec-once = gsettings set org.gnome.desktop.interface gtk-theme 'Materia-dark' &
exec-once = gsettings set org.gnome.desktop.interface icon-theme 'Papirus-Dark' &
exec-once = gsettings set org.gnome.desktop.interface cursor-theme 'Bibata-Modern-Classic' &
exec-once = gsettings set org.gnome.desktop.interface font-name 'Inter 11' &
exec-once = gsettings set org.gnome.desktop.interface color-scheme 'prefer-dark' &

# --- UI & Desktop Environment ---

exec-once = waybar &
exec-once = dunst &
exec-once = hypridle &
exec-once = hyprctl setcursor Bibata-Modern-Classic 24 &

# --- Clipboard & Multimedia ---

exec-once = wl-paste --type text --watch cliphist store &
exec-once = wl-paste --type image --watch cliphist store &

# --- Applets & Hardware ---

exec-once = nm-applet --indicator &
exec-once = blueman-applet &
exec-once = udiskie --appindicator -t &

# Only applicable for Nvidia Desktop setups:

exec-once = nvidia-settings --load-config-only &

# --- User Applications (Delayed) ---

exec-once = sleep 5 && dropbox &
