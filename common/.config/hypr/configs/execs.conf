# --- 1. Core System Services (High Priority) ---
# Start SSH Agent first to ensure the socket is ready for all other apps
exec-once = ssh-agent -a $XDG_RUNTIME_DIR/ssh-agent.socket
exec-once = xdg-user-dirs-update
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = ~/.local/bin/check-gpu.sh

# --- 2. UI & Desktop Environment ---
exec-once = waybar &
exec-once = dunst &
exec-once = hypridle &
exec-once = hyprctl setcursor Bibata-Modern-Classic 24

# --- 3. Clipboard & Multimedia Management ---
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store

# --- 4. Hardware & Connectivity Applets ---
exec-once = nm-applet --indicator &
exec-once = blueman-applet &
exec-once = udiskie --appindicator -t &
exec-once = nvidia-settings --load-config-only

# --- 5. User Applications (Delayed for Stability) ---
# Delaying Dropbox ensures the encrypted /home is fully ready and network is up
exec-once = sleep 5 && dropbox &

# --- 6. GTK & Theming Synchronization ---
# Grouped together to ensure consistent UI rendering on launch
exec-once = gsettings set org.gnome.desktop.interface gtk-theme 'Materia-dark'
exec-once = gsettings set org.gnome.desktop.interface icon-theme 'Papirus-Dark'
exec-once = gsettings set org.gnome.desktop.interface cursor-theme 'Bibata-Modern-Classic'
exec-once = gsettings set org.gnome.desktop.interface font-name 'Inter 11'
exec-once = gsettings set org.gnome.desktop.interface color-scheme 'prefer-dark'
exec-once = gsettings set org.gnome.desktop.interface font-antialiasing 'rgba'
exec-once = gsettings set org.gnome.desktop.interface font-hinting 'slight'
