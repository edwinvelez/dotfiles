# --- 1. XWayland & Scaling Fixes ---
# Disables shadows for XWayland apps (Standard flag)
windowrulev2 = noshadow, xwayland:1
# Removes rounding for XWayland 
windowrulev2 = rounding 0, xwayland:1

# Prevent apps from forced maximizing
windowrulev2 = suppressevent maximize, class:.*

# --- 2. Workspace Assignments (The Workflow) ---
windowrulev2 = workspace 1, class:^(google-chrome)$
windowrulev2 = workspace 2, class:^(jetbrains-.*)$
windowrulev2 = workspace 3, class:^(kitty)$

# --- 3. JetBrains Specific Behavior ---
# Standard floating for dialogs and splash screens
windowrulev2 = move 0 0, class:^(jetbrains-.*)$, title:^(splash)$
windowrulev2 = float, class:^(jetbrains-.*)$, title:^(Welcome.*)$
windowrulev2 = float, class:^(jetbrains-.*)$, title:^(win0)$
windowrulev2 = float, class:^(jetbrains-.*)$, title:^(Copy|Delete|Move|Rename|Conflict.*)$

# Fix for tooltips and menus that try to take focus away from your code
windowrulev2 = nofocus, class:^$, title:^$, xwayland:1, floating:1

# --- 4. System UI & Applets ---
windowrulev2 = float, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = float, class:^(thunar)$, title:^(File Operation Progress)$
windowrulev2 = float, class:^(thunar)$, title:^(Confirm to replace files)$

# Dropbox Fix: Ensure the popup menu floats correctly
windowrulev2 = float, class:^(Dropbox)$
