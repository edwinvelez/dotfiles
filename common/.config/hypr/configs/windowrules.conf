# --- XWayland & Scaling Fixes ---
# Disables shadows for XWayland apps
windowrule = no_shadow on, rounding 0, match:xwayland 1

# Fix for tooltips and menus that try to take focus away
windowrule = no_focus on, match:class ^$, match:title ^$, match:xwayland 1, match:float 1

# Prevent apps from forced maximizing
windowrule = suppress_event maximize, match:class .*

# --- Workspace Assignments ---
windowrule = workspace 1, match:class ^(google-chrome)$
windowrule = workspace 2, match:class ^(jetbrains-.*)$
windowrule = workspace 3, match:class ^(kitty)$

# --- System UI & Applets ---
windowrule = float on, match:class ^(org.pulseaudio.pavucontrol)$
windowrule = float on, match:class ^(nm-connection-editor)$
windowrule = float on, match:class ^(blueman-manager)$
windowrule = float on, match:class ^(thunar)$, match:title ^(File Operation Progress)$
windowrule = float on, match:class ^(thunar)$, match:title ^(Confirm to replace files)$

# --- JetBrains Specific Behavior ---
# Standard floating for dialogs and splash screens
windowrule = move (0) (0), match:class ^(jetbrains-.*)$, match:title ^(splash)$
windowrule = float on, match:class ^(jetbrains-.*)$, match:title ^(Welcome.*)$
windowrule = float on, match:class ^(jetbrains-.*)$, match:title ^(win0)$
windowrule = float on, match:class ^(jetbrains-.*)$, match:title ^(Copy|Delete|Move|Rename|Conflict.*)$

# Dropbox Fix: Ensure the popup menu floats correctly
windowrule = float on, match:class ^(Dropbox)$
